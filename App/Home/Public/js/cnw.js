window._dup_global=window._dup_global||{},function(t){var e={global:t,proxyName:!1,basePath:"http://cpro.baidustatic.com/cpro/ui/dup/"};!function(){var i={name:"oojs",namespace:"",config:{global:!1,proxyName:"proxy",basePath:""},$oojs:function(){if(this.config="undefined"!=typeof e?e:this.config,"undefined"!=typeof window)this.global=this.config.global||window,this.runtime="browser",this.basePath=this.config.basePath;else if(t){var n=require("path");this.global=this.config.global||t,this.runtime="node",this.basePath=this.config.basePath?n.resolve(this.config.basePath):process.cwd()+"/src/";var o=module.constructor,r=o.wrap;o.wrap=function(t){return t=t.replace(/define\s*&&\s*define\s*\(/gi,"define(module,"),r(t)},module.exports=this}this.config.proxyName&&(Function.prototype[this.config.proxyName]=this.proxy),this.global.define=this.proxy(this,this.define),this.global.oojs=i},fastClone:function(t){var e=function(){};e.prototype=t;var i=new e;return i},proxy:function(){var t=Array.prototype.slice.apply(arguments),e=t.shift(),i="function"==typeof this?this:t.shift();return function(){var n=Array.prototype.slice.apply(arguments);return i.apply(e,n.concat(t))}},create:function(t){var e=Array.prototype.slice.call(arguments,0);e.shift();var i=t.name||"init",n=function(t){this[i]=this[i]||function(){},this[i].apply(this,t)};n.prototype=t;var o=new n(e);for(var r in t){var a=t[r];a&&t.hasOwnProperty(r)&&"object"==typeof a&&(o[r]=this.fastClone(a))}return o.instances=null,o},inherit:function(t,e){t="string"==typeof t?this.using(t):t,e="string"==typeof e?this.using(e):e;for(var i in e)i&&e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])},loadDeps:function(t,e){e=e||{};var i=t.deps,n=!0;for(var o in i)if(o&&i.hasOwnProperty(o)&&i[o]){var r=i[o];if(t[o]=this.find(r),e&&e[r])continue;if(e[r]=!0,t[o])t[o].deps&&(n=n&&this.loadDeps(t[o],e));else{if("node"===this.runtime)try{t[o]=require(this.getClassPath(r))}catch(a){}t[o]||(n=!1)}}return n},define:function(t,e){e||(e=t);var i=e.name;e.namespace=e.namespace||"",e.dispose=e.dispose||function(){};for(var n,o=e.namespace.split("."),r=o.length,a=this.global,s=0;r>s;s++)n=o[s],n&&(a[n]=a[n]||{},a=a[n]);if(a[i]=a[i]||{},a[i].name&&a[i].___registered){if(a[i].___registered&&e.classType&&"extend"===e.classType){for(var c in e)c&&e.hasOwnProperty(c)&&(a[i][c]=e[c]);e=a[i]}}else e.___registered=!0,a[i]=e;e=a[i];var d=this.loadDeps(e);if(!d&&"browser"===this.runtime&&this.loadDepsBrowser)this.loadDepsBrowser(e);else{var u="$"+i;e[u]&&e[u]()}return t&&"node"===this.runtime&&(t.exports=e),this},find:function(t){var e,i=t.split(".");e=this.global[i[0]];for(var n=1,o=i.length;o>n;n++){if(!e||!e[i[n]]){e=null;break}e=e[i[n]]}return e},using:function(t){var e=this.find(t);return e||"node"===this.runtime&&(require(this.getClassPath(t)),e=this.find(t)),e},getClassPath:function(t){return this.basePath+t.replace(/\./gi,"/")+".js"}};return i.$oojs(),i.define("undefined"!=typeof module?module:null,i),i}()}(_dup_global),function(t){t.define({name:"url",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom"},getQueryValue:function(t,e,i){var n=new RegExp("(\\?|&|#)"+e+"=([^&#]*)(&|#)?"),o=t.match(n),r="";return o&&(r=o[2]),i&&(r=decodeURIComponent(r)),r},getTopWindowUrl:function(t){var e=this.dom.getNotCrossDomainTopWindow(t),i="";return this.dom.isInIframe(e)&&(i=e.document.referrer),i=i||e.location.href},getMainDomain:function(t){t=t||document.domain,0===t.indexOf("www.")&&(t=t.substr(4)),"."===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1));var e=["com","cn","net","org","gov","info","la","cc","co","jp","us","hk","tv","me","biz","in","be","io","tk","cm","li","ru","ws","hn","fm","tw","ma","in","vn","name","mx","gd","im"],i=new RegExp("([a-z0-9][a-z0-9\\-]*?\\.(?:"+e.join("|")+")(?:\\.(?:cn|jp|tw|ru|th))?)$","i"),n=t.match(i);return n?n[0]:t}}),t.define({name:"preview",namespace:"dup.business",deps:{data:"dup.common.utility.data",dom:"dup.common.utility.dom",cookie:"dup.common.utility.cookie",lang:"dup.common.utility.lang",url:"dup.common.utility.url"},PREV_TEMP_URL:"http://cpro.baidu.com/cpro/ui/preview/templates/",isUnionPreview:function(t){var e=!1;return t?/cpro_template=/gi.test(t)&&(this.data.putInfo("#unionPreviewSwitch",!0),e=!0):e=!!this.data.getInfo("#unionPreviewSwitch"),e},setUnionPreviewData:function(t){this.data.putInfo("#unionPreviewData",t)},getUnionPreviewData:function(){var t=this.data.getInfo("#unionPreviewData");return t?"prev="+encodeURIComponent(t)+"&pt=union":""},clearUnionPreviewData:function(){this.data.removeInfo("#unionPreviewSwitch"),this.data.removeInfo("#unionPreviewData")},getPreviewUrlData:function(t,e){var i=window.location.href,n=parseInt(t.rsi0,10),o=parseInt(t.rsi1,10),r=parseInt(t.at,10);if(this.isPreview(n,o,e,r,i)){var a=e.indexOf("inlay")>=0||"ui"===e?"bd_cpro_prev":"bd_cpro_fprev",s=this.getPrevValue(e,i),c=t.tn,d=this.parsePreviewData(s),u=null;return e.indexOf("inlay")>=0?u=this.getInlayUrl(parseInt(d.type,10),c,a,s):"float"===e&&(u=this.getFloatUrl(parseInt(d.type,10),c,a,s)),u}return null},parsePreviewData:function(t){return t=decodeURIComponent(t).replace(/\\x1e/g,"&").replace(/\\x1d/g,"=").replace(/\\x1c/g,"?").replace(/\\x5c/g,"\\"),this.lang.jsonToObj(t)},isPreview:function(t,e,i,n,o){var r=!1,a=this.getPrevValue(i,o);if(a){var s=this.parsePreviewData(a);void 0===n&&(n=1),1!==parseInt(s.type,10)&&2===(2&n)?r=parseInt(s.imgWidth,10)===parseInt(t,10)&&parseInt(s.imgHeight,10)===parseInt(e,10):1!==parseInt(s.type,10)||1!==(1&n)&&64!==(64&n)&&32!==(32&n)||(r=!0)}return r},getPrevValue:function(t,e){var i;i=e?e.substring(e.indexOf("?")):this.dom.isInCrossDomainIframe(window)?window.location.search.slice(1):window.top.location.search.slice(1);var n,o=document.referrer,r=t.indexOf("inlay")>=0||"ui"===t?"bd_cpro_prev":"bd_cpro_fprev",a="";try{n=document.cookie}catch(s){}return-1!==i.indexOf(r)&&(a=this.url.getQueryValue(i,r)),!a&&n&&-1!==n.indexOf(r)&&(a=this.cookie.get(r)),a||-1===o.indexOf(r)||(a=this.url.getQueryValue(o,r)),a},getFloatUrl:function(t,e,i,n){var o;o=2===t?"float_image.html":4===t?"float_flash.html":"blank_tips.html";var r=this.PREV_TEMP_URL+o+"?",a="tn="+e+("&"+i+"="+n).replace(/\./g,"%252e")+"&ut="+ +new Date;return{serviceUrl:r,paramString:a}},getInlayUrl:function(t,e,i,n){var o;return o=1===t?e+".html":2===t?"image.html":4===t?"flash.html":"blank_tips.html",{serviceUrl:this.PREV_TEMP_URL+o+"?",paramString:(""+i+"=#"+n+"&ut="+ +new Date).replace(/\.(?!swf)/g,"%252e")}}}),t.define({name:"systemParam",namespace:"dup.business.parameter",deps:{dom:"dup.common.utility.dom",style:"dup.common.utility.style"},$systemParam:function(){this.win=window,this.doc=this.win.document,this.screen=this.win.screen,this.nav=this.win.navigator},paramsList:[{key:"psr",value:function(){var t=[this.screen.width,this.screen.height];return t.join("x")}},{key:"par",value:function(){var t=[this.screen.availWidth,this.screen.availHeight];return t.join("x")}},{key:"pis",value:function(){var t=this.dom.isInIframe(this.win)?[this.style.getClientWidth(),this.style.getClientHeight()]:[-1,-1];return t.join("x")}},{key:"ccd",value:function(){return this.screen.colorDepth||0}},{key:"cja",value:function(){return this.nav.javaEnabled().toString()}},{key:"cmi",value:function(){return this.nav.mimeTypes.length||0}},{key:"col",value:function(){return(this.nav.language||this.nav.browserLanguage||this.nav.systemLanguage).replace(/[^a-zA-Z0-9\-]/g,"")}},{key:"cdo",value:function(){var t=this.win.orientation;return void 0===t&&(t=-1),t}},{key:"tcn",value:function(){var t=+new Date;return Math.round(t/1e3)}}]}),t.define({name:"browserParam",namespace:"dup.business.parameter",deps:{config:"dup.common.config",browser:"dup.common.utility.browser",dom:"dup.common.utility.dom",style:"dup.common.utility.style",url:"dup.common.utility.url",cookie:"dup.common.utility.cookie"},$browserParam:function(){this.win=window,this.doc=this.win.document,this.nav=this.win.navigator},paramsList:[{key:"dbv",value:function(){return this.browser.qihoo?"1":this.browser.chrome?"2":"0"}},{key:"drs",value:function(){var t={uninitialized:0,loading:1,loaded:2,interactive:3,complete:4};try{return t[this.doc.readyState]}catch(e){return-1}}},{key:"pcs",value:function(){var t=[this.style.getClientWidth(),this.style.getClientHeight()];return t.join("x")}},{key:"pss",value:function(){var t=[this.style.getScrollWidth(),this.style.getScrollHeight()];return t.join("x")}},{key:"cfv",value:function(){return this.browser.getFlashPlayerVersion()}},{key:"cpl",value:function(){return this.nav.plugins.length||0}},{key:"chi",value:function(){return this.win.history.length||0}},{key:"cce",value:function(){return this.nav.cookieEnabled||0}},{key:"cec",value:function(){return(this.doc.characterSet?this.doc.characterSet:this.doc.charset)||""}},{key:"tlm",value:function(){return Date.parse(this.doc.lastModified)/1e3}},{key:"ti",value:function(){return this.dom.getDocumentTitle()}},{key:"ltu",encode:!0,value:function(){var e=t.proxy(this,function(t){var e=200,i=60,n=this.style.getClientWidth(t),o=this.style.getClientHeight(t);return e>0&&i>0&&n>2*e&&o>2*i?!0:!1}),i=this.url.getTopWindowUrl(e);return i.indexOf("cpro_prev")>0&&(i=i.slice(0,i.indexOf("?"))),i}},{key:"liu",encode:!0,value:function(){return this.dom.isInIframe(this.win)?this.doc.URL:""}},{key:"ltr",encode:!0,value:function(){var t=this.dom.getNotCrossDomainTopWindow(),e="";try{e=t.opener?t.opener.document.location.href:""}catch(i){}return e||t.document.referrer}},{key:"lcr",encode:!0,value:function(){var t=this.doc.referrer,e=t.replace(/^https?:\/\//,"");e=e.split("/")[0],e=e.split(":")[0],e=this.url.getMainDomain(e);var i=this.url.getMainDomain(),n=this.cookie.get(this.config.LCR_COOKIE_NAME);return n&&i===e?n:i!==e?(this.cookie.set(this.config.LCR_COOKIE_NAME,t,{domain:i}),t):""}}]}),t.define({name:"businessParam",namespace:"dup.business.parameter",deps:{config:"dup.common.config",preview:"dup.business.preview"},paramsList:[{key:"dcb",value:function(){return this.config.LOADER_DEFINE_NAME}},{key:"dtm",value:function(){return this.config.DUP_TM}},{key:"dvi",value:function(){return"0.0"}},{key:"dci",value:function(){return"-1"}},{key:"dds",value:function(){return""}},{key:"dpt",value:function(){var t="none";return this.preview.isUnionPreview()&&(t="union"),t}},{key:"tsr",value:function(){var t=0,e=+new Date;return this.config.startTime&&(t=e-this.config.startTime),t}},{key:"tpr",value:function(){function t(t){try{return!!t.top.location.toString()}catch(e){return!1}}var e,i,n=24e4,o=(new Date).getTime();return i=t(window)?window.top:window,e=i.BAIDU_DUP2_pageFirstRequestTime,e?o-e>=n&&(e=i.BAIDU_DUP2_pageFirstRequestTime=o):e=i.BAIDU_DUP2_pageFirstRequestTime=o,e||""}}]}),t.define({name:"slotParam",namespace:"dup.business.parameter",deps:{dom:"dup.common.utility.dom",style:"dup.common.utility.style",data:"dup.common.utility.data"},$slotParam:function(){this.win=window},paramsList:[{key:"di",value:function(){return this.slotInfo.slotId}},{key:"dri",value:function(){return this.slotInfo.index}},{key:"dis",value:function(){var t=0;this.dom.isInIframe(this.win)&&(t+=1),this.dom.isInCrossDomainIframe(this.win,this.win.top)&&(t+=2);var e=this.style.getClientWidth(),i=this.style.getClientHeight();return(40>e||10>i)&&(t+=4),t}},{key:"dai",value:function(){return this.slotInfo.count}},{key:"ps",value:function(){var t=this.dom.g(this.slotInfo.containerId),e=this.style.getPosition(t);return e.top+"x"+e.left}},{key:"coa",encode:!0,value:function(){var t=[],e={cpro_w:"rsi0",cpro_h:"rsi1"},i=this.slotInfo.styleOpenApi,n="";for(var o in i)o&&"undefined"!=typeof i[o]&&i.hasOwnProperty(o)&&(n=i[o],"cpro_h"==o&&(this.data.putInfo("setCoaHeight",!0),n=parseInt(n,10)||125),"cpro_w"==o&&(this.data.putInfo("setCoaWidth",!0),n=parseInt(n,10)||125),t.push((e[o]?e[o]:o)+"="+n));return t.join("&")}}],setSlotInfo:function(t){this.slotInfo=t}}),t.define({name:"browser",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang"},$browser:function(){this.nav=window.navigator,this.checkBrowser()},checkBrowser:function(){var t=navigator.userAgent,e=window.RegExp;/msie (\d+\.\d)/i.test(t)&&(this.ie=document.documentMode||+e.$1),/opera\/(\d+\.\d)/i.test(t)&&(this.opera=+e.$1),/firefox\/(\d+\.\d)/i.test(t)&&(this.firefox=+e.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(t)&&!/chrome/i.test(t)&&(this.safari=+(e.$1||e.$2)),/chrome\/(\d+\.\d)/i.test(t)&&(this.chrome=+e.$1,this.test360()&&(this.qihoo=!0));try{/(\d+\.\d)/.test(this.lang.getAttribute(window,"external.max_version"))&&(this.maxthon=+e.$1)}catch(i){}this.isWebkit=/webkit/i.test(t),this.isGecko=/gecko/i.test(t)&&!/like gecko/i.test(t);for(var n=["Android","iPad","Phone","iOS","iPod","Linux","Macintosh","Windows"],o="",r=0;r<n.length;r++){if(o=n[r],"iPad"===o||"iPhone"===o||"iOS"===o||"iPod"===o){this.isIOS=!0;break}if("Android"===o){this.isAndroid=!0;break}if(t.match(new RegExp(o.toLowerCase(),"i")))break}this.platform=o},test360:function(){try{return"scoped"in document.createElement("style")}catch(t){return!1}},getFlashPlayerVersion:function(){var t=0;try{if(this.nav.plugins&&this.nav.mimeTypes.length){var e=this.nav.plugins["Shockwave Flash"];e&&e.description&&(t=e.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0")}else if(this.win.ActiveXObject&&!this.win.opera)for(var i=10;i>=2;i--)try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);if(n){var o=n.GetVariable("$version");t=o.replace(/WIN/g,"").replace(/,/g,".")}}catch(r){}t=parseInt(t,10),this.getFlashPlayerVersion=function(){return t}}catch(a){t=0}return t}}),t.define({name:"dynamicFloatDecorator",namespace:"dup.ui.painter",deps:{dom:"dup.common.utility.dom",cookie:"dup.common.utility.cookie",browser:"dup.common.utility.browser"},wrap:function(t){this.initialize(t),this.initializeEvent(),this.createHolder()},initialize:function(t){this.iframeId=t.iframeId,this.containerDom=this.dom.g(t.containerId),this.closeButton=this.dom.g(t.closeButtonId),this.cookieKey=t.closeCookieName,this.sessionSync=t.sessionSync||!1,this.slotHeight=t.slotHeight,this.floatType=t.floatType},initializeEvent:function(){this.closeButton&&this.dom.bind(this.closeButton,"click",t.proxy(this,this.closeButtonHandler))},setCloseCookie:function(){var t={path:""};this.cookie.set(this.cookieKey,1,t)},closeButtonHandler:function(){this.containerDom.parentNode.removeChild(this.containerDom),this.cookie.remove(this.cookieKey),this.sessionSync&&this.setCloseCookie(),document.body.removeChild(this.dom.g(this.iframeId+"_placeholder"))},createHolder:function(){var t=document.createElement("div");t.id=this.iframeId+"_placeholder",t.style.width="100%",t.style.height=this.slotHeight+"px",t.style.margin="0",t.style.padding="0",t.style.background="none",t.style.border="none",2===this.floatType?document.body.insertBefore(t,document.body.firstChild):3===this.floatType&&this.dom.bind(window,"load",function(){document.body.appendChild(t)})}}),t.define({name:"landingPage",namespace:"dup.ui.painter",deps:{lang:"dup.common.utility.lang",style:"dup.common.utility.style",browser:"dup.common.utility.browser",dom:"dup.common.utility.dom"},register:function(e){return this.expansionActionName="BaiduCproExpansion"+e.iframeId,this.pageIframeId=e.containerId+"_ExpansionLP",this.dom.bind(window,"message",t.proxy(this,this.onPostMessageHandler)),!0},isAvailable:function(t){return 1===t&&!this.browser.isIOS&&"postMessage"in this.win},onPostMessageHandler:function(e){var i;if("object"==typeof e&&e.data&&(i=e.data,!(i.indexOf(this.expansionActionName)<0))){this.exp=document.createElement("div");var n=Math.max(this.style.getClientWidth(),this.style.getClientHeight()),o=this.exp.style;o.position="fixed",o.left="0",o.top=n+"px",o.zIndex=2147483647,o.background="#ffffff",o.width="100%",o.transition=o.WebkitTransition=o.MozTransition=o.OTransition="top 1s ease-in-out",document.body.appendChild(this.exp),i=i.slice(this.expansionActionName.length);var r=['<iframe id="{lpIframeId}" ','src="{clickUrl}" width="{iframeWidth}" ','height="{iframeHeight}" align="center,center" ','marginwidth="0"  marginheight="0" ','frameborder="0"></iframe>','<div id="{lpIframeId}_closeBtn" ','style="position:absolute;right:0;top:0;',"width:{closeBtnSize}px;","height:{closeBtnSize}px;","overflow:hidden;display:block;","background:url('http://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png') ","no-repeat 0 0; ","_filter:progid:DXImageTransform",".Microsoft.AlphaImageLoader(","enabled=true, sizingMethod=none, ","src='http://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose.png');","_background:none;cursor:pointer;",'background-position:center;background-size:100%,100%;">&nbsp;</div>'].join(""),a=Math.min(this.style.getClientWidth(),this.style.getClientHeight());this.exp.innerHTML=this.lang.template(r,{lpIframeId:this.pageIframeId,clickUrl:i,iframeWidth:this.style.getClientWidth(),iframeHeight:this.style.getClientHeight(),closeBtnSize:80*a/640}),this.exp.style.top="0",this.dom.bind(window,"resize",t.proxy(this,this.onResizeHandler));var s=this.dom.g(this.pageIframeId+"_closeBtn");this.dom.bind(s,"click",t.proxy(this,this.onCloseHandler))}},onCloseHandler:function(){this.exp.style.top=Math.max(this.style.getClientWidth(),this.style.getClientHeight())+"px",this.exp.innerHTML=""},onResizeHandler:function(){var t=this.style.getClientWidth(),e=this.style.getClientHeight(),i=this.dom.g(this.pageIframeId);i.style.width=t+"px",i.style.height=e+"px",i.setAttribute("width",t),i.setAttribute("height",e)}}),t.define({name:"cookie",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang"},get:function(t,e){var i=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),n=i.exec(document.cookie);return n?e?decodeURIComponent(n[2]):n[2]:""},set:function(t,e,i,n){var o=i.expires;document.cookie=t+"="+(n?encodeURIComponent(e):e)+(i.path?"; path="+i.path:"")+(o?"; expires="+o.toGMTString():"")+(i.domain?"; domain="+i.domain:"")},remove:function(t){var e=new Date;e.setTime(e.getTime()-86400),this.set(t,"",{path:"/",expires:e})}}),t.define({name:"style",namespace:"dup.common.utility",deps:{dom:"dup.common.utility.dom",lang:"dup.common.utility.lang",browser:"dup.common.utility.browser"},$style:function(){},getClientWidth:function(t){t=t||window;try{var e=this.dom.getTopElement(t).clientWidth;if(e||0===e)return e}catch(i){}return-1},getClientHeight:function(t){t=t||window;try{var e=this.dom.getTopElement(t).clientHeight;if(e||0===e)return e}catch(i){}return-1},getPositionCore:function(t){var e={top:0,left:0};if(t===this.dom.getTopElement(t))return e;var i=this.dom.getDocument(t),n=i.body,o=i.documentElement;if(t.getBoundingClientRect){var r=t.getBoundingClientRect();e.left=Math.floor(r.left)+Math.max(o.scrollLeft,n.scrollLeft),e.top=Math.floor(r.top)+Math.max(o.scrollTop,n.scrollTop),e.left-=o.clientLeft,e.top-=o.clientTop;var a=this.getStyle(n,"borderLeftWidth"),s=this.getStyle(n,"borderTopWidth"),c=parseInt(a,10),d=parseInt(s,10);e.left-=isNaN(c)?2:c,e.top-=isNaN(d)?2:d}return e},getStyle:function(t,e){if(!t)return"";var i="";i=e.indexOf("-")>-1?e.replace(/[-][^-]{1}/g,function(t){return t.charAt(1).toUpperCase()}):e.replace(/[A-Z]{1}/g,function(t){return"-"+t.charAt(0).toLowerCase()});var n=this.dom.getWindow(t);if(n&&n.getComputedStyle){var o=n.getComputedStyle(t,null);if(o)return o.getPropertyValue(e)||o.getPropertyValue(i)}else if(t.currentStyle){var o=t.currentStyle;return o[e]||o[i]}return""},getPosition:function(t){var e=this.dom.g(t);if(!e)return!1;var i=this.getPositionCore(e),n=this.dom.getWindow(e);if(!n)return i;for(var o=0,r=10;n!==n.parent&&o++<r&&!this.dom.isInCrossDomainIframe(n)&&n.frameElement;){var a=this.getPositionCore(n.frameElement);i.left+=a.left,i.top+=a.top,n=n.parent}return i},getOpacityInWin:function(t){for(var e=t,i=this.dom.getWindow(e),n=100;e&&e.tagName;){var o=100;if(this.browserInfo.ie){if(this.browserInfo.ie>5)try{o=parseInt(this.lang.getAttribute(e,"filters.alpha.opacity"),10)||100}catch(r){}n=n>o?o:n}else{try{o=100*(i.getComputedStyle(e,null).opacity||1)}catch(r){}n*=o/100}e=e.parentNode}return 0===n?0:n||100},getOpacity:function(t){for(var e=this.dom.g(t),i=this.dom.getWindow(e),n=this.getOpacityInWin(e),o=0,r=10;o++<r&&this.dom.isInIframe(i)&&!this.dom.isInCrossDomainIframe(i);){var a=i.frameElement?this.getOpacityInWin(i.frameElement):100;n*=a/100,i=i.parent}return n},getScrollWidth:function(t){t=t||window;try{var e=this.dom.getTopElement(t).scrollWidth;if(e||0===e)return e}catch(i){}return-1},getScrollHeight:function(t){t=t||window;try{var e=this.dom.getTopElement(t).scrollHeight;if(e||0===e)return e}catch(i){}return-1},getScrollTop:function(t){t=t||window;var e=t.document;return t.pageYOffset||e.documentElement.scrollTop||e.body.scrollTop},canFixed:function(){var t=!0;return this.browser.ie&&(this.browser.ie<7||"BackCompat"===document.compatMode)&&(t=!1),t}}),t.define({name:"painter",namespace:"dup.ui.painter",deps:{config:"dup.common.config",lang:"dup.common.utility.lang",searchParam:"dup.business.searchParam",dom:"dup.common.utility.dom"},getParamList:function(t){var e=[],i=this.searchParam.getParamInfoById(t.id);for(var n in i)n&&i[n]&&i.hasOwnProperty(n)&&("tn"==n&&i[n].indexOf("float")>-1&&(i[n]="template_float_all_normal"),e.push(n+"="+encodeURIComponent(i[n])));return e.push("ti="+this.dom.getDocumentTitle()),e},getIframeHtmlSnippet:function(t){var e=["<iframe",' id="{iframeId}"',' {srcAttriName}="{url}"',' width="{iframeWidth}"',' height="{iframeHeight}"',' align="center,center"',' marginwidth="0"',' marginheight="0"',' scrolling="no"',' frameborder="0"',' allowtransparency="true">',"</iframe>"].join(""),i=this.getParamList(t),n={iframeId:"cproIframe_"+t.id,srcAttriName:"src",iframeWidth:t.width,iframeHeight:t.height,url:this.config.POS_URL+i.join("&")};return this.lang.template(e,n)},getHtmlSnippet:function(){},render:function(t){t.status=this.config.STATUS_RENDERED}}),t.define({name:"param",namespace:"dup.business",deps:{slotParams:"dup.business.parameter.slotParam",businessParams:"dup.business.parameter.businessParam",browserParams:"dup.business.parameter.browserParam",systemParams:"dup.business.parameter.systemParam"},$param:function(){},snap:function(t){for(var e=t.paramsList,i=[],n=0,o=e.length;o>n;n++){var r=e[n],a=r.key,s=r.encode,c=r.value;c="function"==typeof c?c.apply(t):c,c=s?encodeURIComponent(c):c,i.push({key:a,value:c})}return i},getParamObj:function(t){var e=[];return this.slotParams.setSlotInfo(t),e=e.concat(this.snap(this.slotParams)),e=e.concat(this.snap(this.businessParams)),e=e.concat(this.snap(this.browserParams)),e=e.concat(this.snap(this.systemParams)),e.push({key:"baidu_id",value:""}),e},getParamString:function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i];e.push(o.key+"="+o.value)}return e=e.join("&"),e.slice(0,2048)}}),t.define({name:"dom",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang",browser:"dup.common.utility.browser"},$dom:function(){},g:function(t,e){return"string"===this.lang.getType(t)&&t.length>0?(e=e||window,e.document.getElementById(t)):!t.nodeName||1!==t.nodeType&&9!==t.nodeType?null:t},getDocument:function(t){return 9===t.nodeType?t:t.ownerDocument||t.document},getWindow:function(t){var e=this.getDocument(t);return e.parentWindow||e.defaultView||null},isWindow:function(t){try{if(t&&"object"==typeof t&&t.document&&"setInterval"in t)return!0}catch(e){return!1}return!1},isInIframe:function(t,e){return e=2===arguments.length?e:t.parent,t!==e||!this.isWindow(t)},checkParentAccess:function(t){try{return!!t.parent.location.toString()}catch(e){return!1}},isInCrossDomainIframe:function(t,e){e=2===arguments.length?e:t.parent;for(var i=0,n=10;i++<n&&this.isInIframe(t,e);){if(!this.checkParentAccess(t))return!0;t=t.parent}return i>=n},ready:function(e,i,n){n=n||this.win||window;var o=n.document;i=i||0,this.domReadyMonitorRunTimes=0,this.readyFuncArray=this.readyFuncArray||[],this.readyFuncArray.push({func:e,delay:i,done:!1});var r=t.proxy(this,function(){var t=!1;this.domReadyMonitorRunTimes++;var e=!1;try{n.frameElement&&(e=!0)}catch(i){e=!0}if(this.browser.ie&&this.browser.ie<9&&!e)try{o.documentElement.doScroll("left"),t=!0}catch(i){}else if("complete"===o.readyState||this.domContentLoaded)t=!0;else if(this.domReadyMonitorRunTimes>3e5)return void(this.domReadyMonitorId&&(n.clearInterval(this.domReadyMonitorId),this.domReadyMonitorId=null));if(t)try{if(this.readyFuncArray&&this.readyFuncArray.length)for(var r=0,a=this.readyFuncArray.length;a>r;r++){var s=this.readyFuncArray[r];s&&s.func&&!s.done&&(s.delay?(s.done=!0,n.setTimeout(s.func,s.delay)):(s.done=!0,s.func()))}}catch(c){throw c}finally{this.domReadyMonitorId&&(n.clearInterval(this.domReadyMonitorId),this.domReadyMonitorId=null)}},this),a=t.proxy(this,function(){this.domContentLoaded=!0,r()});this.domReadyMonitorId||(this.domReadyMonitorId=n.setInterval(r,50),o.addEventListener?(o.addEventListener("DOMContentLoaded",a,!1),n.addEventListener("load",a,!1)):o.attachEvent&&n.attachEvent("onload",a,!1))},bind:function(t,e,i){return"string"==typeof t&&(t=this.one(t)),e=e.replace(/^on/i,"").toLowerCase(),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),t},getNotCrossDomainTopWindow:function(t,e){1===arguments.length&&"number"===this.lang.getType(arguments[0])&&(e=arguments[0],t=void 0),e=e||10;for(var i=window,n=0;n++<e&&this.isInIframe(i)&&!this.isInCrossDomainIframe(i)&&(!t||!t(i));)i=i.parent;return i},getDocumentTitle:function(){var t=this.getNotCrossDomainTopWindow(),e=t.document.title,i=60;return e.length>i&&(e=e.substr(0,i)),e},getTopElement:function(t){var e=this.isWindow(t)?t.document:this.getDocument(t);return"CSS1Compat"===e.compatMode?e.documentElement:e.body}}),t.define({name:"lang",namespace:"dup.common.utility",hasOwn:Object.prototype.hasOwnProperty,getAttribute:function(t,e){for(var i=t,n=e.split(".");n.length;){if(void 0===i||null===i)return void 0;i=i[n.shift()]}return i},serialize:function(t){if("object"!=typeof t)return"";var e=[];for(var i in t)this.hasOwn.call(t,i)&&e.push(i+"="+encodeURIComponent(t[i]));return e.join("&")},getType:function(t){for(var e={},i="Array Boolean Date Error Function Number RegExp String".split(" "),n=0,o=i.length;o>n;n++)e["[object "+i[n]+"]"]=i[n].toLowerCase();return null==t?"null":e[Object.prototype.toString.call(t)]||"object"},argumentsToArray:function(t){var e=[];switch(this.getType(t)){case"object":e=Array.prototype.slice.call(t);break;case"array":e=t;break;case"number":case"string":e.push(t)}return e},template:function(t,e){var i=/{(.*?)}/g;return t.replace(i,function(t,i){return e[i]||""})},jsonToObj:function(t){return new Function("return "+t)()}}),t.define({name:"inlayText",namespace:"dup.ui.painter",deps:{config:"dup.common.config",painter:"dup.ui.painter.painter"},$inlayText:function(){},render:function(t){var e=this.painter.getParamList(t),i=this.config.POS_URL+e.join("&");if(t.isAsync){var n=document.createElement("script");n.src=i,n.type="text/javascript";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}else document.write('<script charset="utf-8" src="'+i+'"></script>')}}),t.define({name:"unionMobilePainter",namespace:"dup.ui.painter",deps:{config:"dup.common.config",data:"dup.common.utility.data",lang:"dup.common.utility.lang",style:"dup.common.utility.style",dom:"dup.common.utility.dom",cookie:"dup.common.utility.cookie",searchParam:"dup.business.searchParam",landingPage:"dup.ui.painter.landingPage",painter:"dup.ui.painter.painter",dynamicFloatDecorator:"dup.ui.painter.dynamicFloatDecorator"},$unionMobilePainter:function(){this.win=window},processSlotInfo:function(t){t.displayType="inlay-mobile",t.status=this.config.STATUS_RENDERED;var e=this.searchParam.getParamInfoById(t.id),i="mobile_skin_white_red",n=e.skin||i;e.xuanting=parseInt(e.xuanting||0,10),e.xuanting&&n===i&&(n="mobile_skin_black_white"),e.skin=n;var o=parseInt(e.at||99,10);4===(4&o)&&(e.at=4^o),e.scale=e.scale||"20.3","20.5"===e.scale&&(e.xuanting=0);var r=e.scale.split("."),a=this.data.getInfo("setCoaHeight"),s=this.data.getInfo("setCoaWidth");switch(s&&a?(this.iframeWidth=e.rsi0,this.iframeHeight=e.rsi1):!s&&a?(this.iframeWidth=this.getCurViewportWidth(t.slotId,e.rsi0),this.iframeHeight=e.rsi1):!a&&s?(this.iframeWidth=e.rsi0,this.iframeHeight=Math.ceil(this.iframeWidth/r[0]*r[1])):(this.iframeWidth=this.getIframeWidth(t.slotId,e.rsi0),this.iframeHeight=Math.ceil(this.iframeWidth/r[0]*r[1])),this.hardCodeForGanji(e.n,t.containerId+"_wrap"),e.rsi0=this.iframeWidth,e.rsi1=this.iframeHeight,t.width=this.iframeWidth,t.height=this.iframeHeight,e.wt=1,e.xuanting){case 0:e.distp="1001";break;case 2:e.distp="2005";break;case 3:e.distp="2006";break;case 4:e.distp="2007"}e.adn&&0!==parseInt(e.adn||0,10)||(e.adn=1),this.landingPage.isAvailable()&&(e.expToken=this.landingPage.expansionActionName),e.conW=this.iframeWidth,e.conH=this.iframeHeight},hardCodeForGanji:function(t,e){if("19076084_1_cpr"===t){for(var i=1,n=document.getElementsByTagName("meta"),o=0;o<n.length;o++)if("viewport"===n[o].name){var r=n[o].content;if(r.indexOf("initial-scale")>-1){i=r.match(/initial-scale=(\d(.\d)*)/)[1];break}}if(this.iframeWidth=this.iframeWidth/i,this.iframeHeight=this.iframeHeight/i,1!==i){var a="onorientationchange"in this.win?"orientationchange":"resize";this.dom.bind(this.win,a,function(){setTimeout(function(){this.dom.g(e).style.width=this.win.innerWidth+"px"},this.browser.isAndroid?1e3:0)})}}},getIframeWidth:function(t,e){var i="u0"===t?e:Math.max(320,Math.min(window.innerWidth,window.innerHeight));return isNaN(i)&&(i=Math.min(this.style.getClientWidth(),this.style.getClientHeight())),i},getCurViewportWidth:function(t,e){var i="u0"===t?e:Math.max(320,window.innerWidth);return isNaN(i)&&(i=this.style.getClientWidth()),i},parsePositionHTML:function(t){var e=this.searchParam.getParamInfoById(t.id),i=parseFloat(e.opacity||.9),n=e.rss1||"#000",o=parseInt(e.xuanting||0,10),r="";r="opacity:"+i+";";var a="absolute";if(this.style.canFixed()&&(a="fixed"),o&&(r+="position:"+a+";"),2===o)r+="top:0;background-color:"+n+";";else if(3===o)if("fixed"===a)r+="bottom:0;background-color:"+n+";";else{var s=this.style.getScrollTop(window)+this.style.getClientHeight(window)-this.iframeHeight;r+="top:"+s+"px;background-color:"+n+";"}return r},computeCloseBtnTemplateData:function(t){var e=40,i=40,n=0,o="",r=this.searchParam.getParamInfoById(t.id),a=r.scale,s=1;"20.2"===a?(s=this.iframeHeight/48,o=4):"20.3"===a&&(s=this.iframeHeight/72,o=3),e=50*s,i=20*s,n=16*s;var c="20.2"===a?this.iframeHeight:"-"+i;return{slotId:t.id,right:n,top:c,closeBtnWidth:e,closeBtnHeight:i,closeBtnImgUrl:"http://cpro.baidustatic.com/cpro/ui/noexpire/img/2.0.0/xuantingClose"+o+".png"}},parseCloseButtonHTML:function(t){var e=this.searchParam.getParamInfoById(t.id),i=e.xuanting;if(0===parseInt(i||0,10))return"";var n=["<div",' id="closeBtn_{slotId}"',' style="',"position:absolute;","right:0;","top:{top}px;","width:{closeBtnWidth}px;","height:{closeBtnHeight}px;","overflow:hidden;","display:block;","background:url('{closeBtnImgUrl}') no-repeat 0 0;","_filter:progid:DXImageTransform.","Microsoft.AlphaImageLoader(","enabled=true,"," sizingMethod=none,"," src='{closeBtnImgUrl}');","_background:none;","cursor:pointer;","background-position:center;","background-size:100% 100%;",'z-index:2147483647;">&nbsp;</div>'].join(""),o=this.computeCloseBtnTemplateData(t);return this.lang.template(n,o)},parseHtmlSnippet:function(t){var e=['<div id="{id}_wrap" style="text-align:center;display:block;font-size:0;width:{wrapperWidth};height:{height}px;{position}">','<div style="width:{width}px;height:{height}px;position:relative;margin:0 auto;">',"{closeBtnHtml}","{iframeHtml}","</div>","</div>"].join("");return this.lang.template(e,t)},validate:function(t){var e="bd_close_"+t.id,i=this.cookie.get(e,window);return i?!1:!0},render:function(t){if(this.validate(t)){this.processSlotInfo(t);var e=this.parseCloseButtonHTML(t),i=this.parsePositionHTML(t),n={id:t.id,wrapperWidth:"100%",width:this.iframeWidth,height:this.iframeHeight,closeBtnHtml:e,position:i,iframeHtml:this.painter.getIframeHtmlSnippet(t)},o=this.parseHtmlSnippet(n),r=this.dom.g(t.containerId);
r?r.innerHTML=o:document.write(o);var a=this.searchParam.getParamInfoById(t.id),s=a.sessionSync||!1,c=a.xuanting||0;this.dynamicFloatDecorator.wrap({iframeId:t.id,containerId:t.containerId,closeButtonId:"closeBtn_"+t.id,closeCookieName:"bd_close_"+t.id,sessionSync:s,slotHeight:this.iframeHeight,floatType:c}),this.landingPage.isAvailable(a.expansion)&&this.landingPage.register(t)}}}),t.define({name:"baiduRec",namespace:"dup.ui.painter",deps:{data:"dup.common.utility.data",config:"dup.common.config",painter:"dup.ui.painter.painter",lang:"dup.common.utility.lang"},$baiduRec:function(){},repalceCustomTn:function(t){for(var e=0;e<t.length;e++)t[e].indexOf("tn")>-1?t[e]="tn=baiduDEFINE":t[e].indexOf("dtm")>-1&&(t[e]="dtm=BAIDU_DUP_JSONTEMPLATE");return t},render:function(t){var e=window,i="baiduRecProxyCallback",n=this.data.getInfo("baiduRecCallback"),o=this;e[i]=function(t){return n&&"function"==o.lang.getType(e[n])?void e[n](t):!1};var o=this,r=this.repalceCustomTn(this.painter.getParamList(t)),a=o.config.POS_URL+r.join("&");if(a+="&dcb="+i,t.isAsync){var s=document.createElement("script");s.src=a,s.type="text/javascript",s.charset="utf-8";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(s,c)}else document.write('<script charset="utf-8" src="'+a+'"></script>')}}),t.define({name:"searchParam",namespace:"dup.business",deps:{config:"dup.common.config"},$searchParam:function(){this.responseInfoMap={}},getParamInfoById:function(t){var e=this.responseInfoMap[t];return e||(e=this.responseInfoMap[t]={}),e},processResponseInfo:function(t,e){var i=this.getParamInfoById(t.id);i.dtm=this.config.DUP_TM,i.dc="2",i.di=t.slotId,this.processSlotSize(t.id,e);var n=e._html;for(var o in n)o&&n[o]&&n.hasOwnProperty(o)&&(i[o]=n[o])},processSlotSize:function(t,e){var i=e._html,n=i.conW||0,o=i.conH||0,r=parseInt(n,10)||parseInt(e._w,10)||parseInt(e.sw,10)||parseInt(i.rsi0,10),a=parseInt(o,10)||parseInt(e._h,10)||parseInt(e.sh,10)||parseInt(i.rsi1,10),s=this.getParamInfoById(t);s.rsi0=r,s.rsi1=a}}),t.define({name:"slot",namespace:"dup.business",deps:{config:"dup.common.config",param:"dup.business.param"},slotIdCountMap:{},slotCount:0,getDiliveryInfo:function(){var t,e={},i=window.cpro_id;window.cpro_id=null,i&&(t=this.createSlot({slotId:i,productLine:"union",isAsync:!1,dilivery:"cpro-sync"}),e[t.id]=t);var n=window.cproArray;if(window.cproArray=null,n)for(var o=0,r=n.length;r>o;o++)t=this.createSlot({slotId:n[o].id,productLine:"union",isAsync:!0,dilivery:"cpro-async"}),e[t.id]=t;var a=window.cpro_mobile_slot;if(window.cpro_mobile_slot=null,a)for(var o=0,r=a.length;r>o;o++){var s=a[o];t=this.createSlot({slotId:s.id,productLine:"union",isAsync:!0,dilivery:"cpro-async"}),t.styleOpenApi=t.styleOpenApi||{};for(var c in s)c&&s[c]&&s.hasOwnProperty(c)&&(t.styleOpenApi[c]=s[c]);e[t.id]=t}window.slotbydup=window.slotbydup||[],this.delieveryObjArray=this.delieveryObjArray||[],window.slotbydup&&window.slotbydup instanceof Array&&(this.delieveryObjArray=this.delieveryObjArray.concat(window.slotbydup),window.slotbydup=[]);for(var o=0,r=this.delieveryObjArray.length;r>o;o++){var d=this.delieveryObjArray[o];t=this.createSlot({slotId:d.id,productLine:"union",isAsync:!0,dilivery:"dup"}),t.containerId=d.container||t.containerId,t.display=d.display,e[t.id]=t}return this.delieveryObjArray=[],e},createSlot:function(t){var e=t.slotId;this.slotIdCountMap[e]=this.slotIdCountMap[e]||0;var i={};return i.index=this.slotIdCountMap[e]++,i.count=++this.slotCount,i.id=e+"_"+i.index,i.containerId="BAIDU_DUP_wrapper_"+e+i.index,i.slotId=t.slotId,i.productLine=t.productLine,i.isAsync=t.isAsync,i.dilivery=t.dilivery,i.status=this.config.STATUS_CREATE,i.styleOpenApi=window.cproStyleApi&&window.cproStyleApi[e],i},getSlotInfo:function(t){for(var e in t)if(e&&t[e]&&t.hasOwnProperty(e)){var i=t[e];if(i.status>=this.config.STATUS_REQUEST)continue;var n=this.param.getParamObj(i),o=this.param.getParamString(n),r=this.config.POS_URL+o;if(i.isAsync){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=r;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}else document.write('<script charset="utf-8" src="'+r+'"></script>');i.status=this.config.STATUS_REQUEST}},createContainer:function(t){for(var e in t)if(e&&t[e]&&t.hasOwnProperty(e)){var i=t[e];if(i.status>this.config.STATUS_CREATE)continue;if("cpro-async"===i.dilivery)i.containerId="cpro_"+i.slotId;else{if("dup"===i.dilivery)continue;document.write('<div id="'+i.containerId+'"></div>')}}}}),t.define({name:"config",namespace:"dup.common",LOADER_DEFINE_NAME:"BAIDU_DUP_Mobile_define",LCR_COOKIE_NAME:"BAIDU_DUP_lcr",POS_URL:"http://pos.baidu.com/acom?",DUP_TM:"BAIDU_DUP2_SETJSONADSLOT",STATUS_CREATE:1,STATUS_REQUEST:2,STATUS_RENDERED:3,STATUS_FINISH:4,startTime:new Date}),t.define({name:"data",namespace:"dup.common.utility",deps:{lang:"dup.common.utility.lang",dom:"dup.common.utility.dom"},$data:function(){this.pageInfo={}},data:function(){this.topWin=this.dom.getNotCrossDomainTopWindow(),this.globalInfo=this.topWin[STORE_NAME]||(this.topWin[STORE_NAME]={})},putInfo:function(t,e,i){var n,o=i?this.globalInfo:this.pageInfo;if("string"===this.lang.getType(t)){for(var r=t.split("."),a=o;r.length;){var s=r.shift();a[s]=r.length?void 0!==a[s]?a[s]:{}:e,a=a[s]}n=e}return n},removeInfo:function(t,e){var i=e?this.globalInfo:this.pageInfo;switch(this.lang.getType(t)){default:return!1;case"string":for(var n=t.split(".");n.length;){var o=n.shift();if(!n.length||void 0===i[o])return delete i[o],!0;i=i[o]}}return!1},getInfo:function(t,e){var i,n=e?this.globalInfo:this.pageInfo;return"string"===this.lang.getType(t)&&(i=this.lang.getAttribute(n,t)),i},getOnce:function(t){var e=window,i=e[t];return e[t]=void 0,i},defineOnce:function(t,e){var i=window;return i[t]?i[t]:(i[t]=e,e)}}),t.define({name:"newDup",namespace:"dup.ui.dilivery",deps:{data:"dup.common.utility.data",config:"dup.common.config",slot:"dup.business.slot",searchParam:"dup.business.searchParam",baiduRecPainter:"dup.ui.painter.baiduRec",unionMobilePainter:"dup.ui.painter.unionMobilePainter",inlayTextPainter:"dup.ui.painter.inlayText"},$newDup:function(){},process:function(){this.prepareApi();var t=this.slot.getDiliveryInfo();this.slots=this.slots||{};for(var e in t)e&&t.hasOwnProperty(e)&&(this.slots[e]=t[e]);this.updateApi(),this.slot.createContainer(this.slots),this.slot.getSlotInfo(this.slots)},push:function(t){this.data.putInfo("baiduRecCallback",t.cpro_set_baiduRec_jsonpCb||""),this.slot.delieveryObjArray=this.slot.delieveryObjArray&&[],this.slot.delieveryObjArray.push(t),this.process()},prepareApi:function(){window[this.config.LOADER_DEFINE_NAME]=window[this.config.LOADER_DEFINE_NAME]||t.proxy(this,function(e,i,n){var o="",r=n.data._html,a=r.tn,s={"union/inlayFixed":"dup.ui.painter.painter","union/mobile":"dup.ui.painter.unionMobilePainter"};if(0===e.indexOf("request!")){var c=e.split("!")[1],d=this.slots[c],u=n.deps;o=s[u[0]],o||"baiduTlinkNeiwen"!=a?o||(o="dup.ui.painter.baiduRec"):o="dup.ui.painter.inlayText";var l=t.using(o);this.searchParam.processResponseInfo(d,n.data),l.render(d)}})},updateApi:function(){window.slotbydup=this,window.slotbydup.load=!0}});var e=t.using("dup.ui.dilivery.newDup");e.process()}(_dup_global.oojs);